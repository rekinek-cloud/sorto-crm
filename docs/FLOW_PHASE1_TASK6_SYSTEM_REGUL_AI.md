# FLOW ENGINE - TASK 6: System ReguÅ‚ AI

## Cel
ZbudowaÄ‡ elastyczny system reguÅ‚ ktÃ³ry decyduje CO z danymi zrobiÄ‡: RAG, Flow, ignorowaÄ‡. ReguÅ‚y to "instrukcje dla AI" - user definiuje logikÄ™, AI wykonuje.

---

## Problemy do rozwiÄ…zania

| Problem | RozwiÄ…zanie |
|---------|-------------|
| TysiÄ…ce maili, wiÄ™kszoÅ›Ä‡ Å›mieci | Automatyczna klasyfikacja |
| Oferty - nie wymagajÄ… akcji, ale przydatne | RAG bez Flow |
| Mail od klienta w spamie | CRM always wins |
| KaÅ¼da firma ma inne potrzeby | Edytowalne reguÅ‚y |
| Koszt AI | Hierarchia: tanie reguÅ‚y â†’ droga AI |

---

## Architektura: Hierarchia przetwarzania

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DANE WEJÅšCIOWE                               â”‚
â”‚                    (email, dokument, itp.)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAP 1: OCHRONA CRM (zawsze pierwszy, bez AI)                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  1. Czy nadawca/email jest KONTAKTEM w CRM?                    â”‚
â”‚     â†’ TAK â†’ â­ BUSINESS (zawsze przepuÅ›Ä‡)                       â”‚
â”‚                                                                 â”‚
â”‚  2. Czy domena naleÅ¼y do FIRMY w CRM?                          â”‚
â”‚     â†’ TAK â†’ â­ BUSINESS (zawsze przepuÅ›Ä‡)                       â”‚
â”‚                                                                 â”‚
â”‚  3. Czy byÅ‚a wczeÅ›niejsza korespondencja BUSINESS?             â”‚
â”‚     â†’ TAK â†’ â­ Prawdopodobnie BUSINESS                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAP 2: LISTY I WZORCE (szybkie, bez AI)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  4. BiaÅ‚a lista domen/adresÃ³w?                                 â”‚
â”‚     â†’ TAK â†’ â­ VIP                                              â”‚
â”‚                                                                 â”‚
â”‚  5. Czarna lista domen?                                        â”‚
â”‚     â†’ TAK â†’ ğŸ—‘ï¸ SPAM (ale oznacz "sprawdÅº CRM")                 â”‚
â”‚                                                                 â”‚
â”‚  6. Wzorce (unsubscribe, noreply, bulk headers)?               â”‚
â”‚     â†’ MATCH â†’ ğŸ“° NEWSLETTER lub ğŸ¤– AUTO                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAP 3: AI KLASYFIKACJA (tylko UNKNOWN)                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  7. AI analizuje treÅ›Ä‡ i klasyfikuje:                          â”‚
â”‚     â†’ BUSINESS / NEWSLETTER / SPAM / TRANSACTIONAL             â”‚
â”‚                                                                 â”‚
â”‚  8. AI uczy siÄ™:                                                â”‚
â”‚     â†’ Newsletter z nowej domeny â†’ sugestia czarnej listy       â”‚
â”‚     â†’ Nowy kontakt biznesowy â†’ sugestia dodania do CRM         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ETAP 4: AKCJE (wg reguÅ‚ uÅ¼ytkownika)                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  BUSINESS/VIP:                                                  â”‚
â”‚    âœ“ RAG (indeksuj)                                            â”‚
â”‚    âœ“ Flow (do Å¹rÃ³dÅ‚a)                                          â”‚
â”‚    âœ“ Ekstrakcja (zadania, terminy, kwoty)                      â”‚
â”‚    âœ“ Linkowanie (kontakt, firma, stream)                       â”‚
â”‚                                                                 â”‚
â”‚  NEWSLETTER:                                                    â”‚
â”‚    âœ“ RAG (opcjonalnie)                                         â”‚
â”‚    âœ— Flow                                                       â”‚
â”‚    âœ“ Czarna lista (sugestia)                                   â”‚
â”‚                                                                 â”‚
â”‚  SPAM:                                                          â”‚
â”‚    âœ— RAG                                                        â”‚
â”‚    âœ— Flow                                                       â”‚
â”‚    âœ“ Czarna lista (auto jeÅ›li confidence > 90%)                â”‚
â”‚                                                                 â”‚
â”‚  TRANSACTIONAL:                                                 â”‚
â”‚    âœ“ RAG (faktury, potwierdzenia)                              â”‚
â”‚    âœ— Flow (nie wymaga akcji)                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Typy reguÅ‚

### 1. ReguÅ‚y klasyfikacji (co to jest?)

```
KLASYFIKACJA EMAIL
â”œâ”€â”€ CRM Protection (wbudowane, nie edytowalne)
â”œâ”€â”€ BiaÅ‚a lista (user edytuje)
â”œâ”€â”€ Czarna lista (user edytuje + AI sugeruje)
â”œâ”€â”€ Wzorce (user edytuje + systemowe)
â””â”€â”€ AI Classifier (prompt edytowalny)

KLASYFIKACJA DOKUMENTÃ“W
â”œâ”€â”€ Typ dokumentu (faktura, umowa, oferta...)
â”œâ”€â”€ AI Classifier
â””â”€â”€ OCR + ekstrakcja
```

### 2. ReguÅ‚y akcji (co zrobiÄ‡?)

```
AKCJE
â”œâ”€â”€ RAG (indeksuj dla wiedzy)
â”‚   â”œâ”€â”€ KtÃ³re pola wyciÄ…gnÄ…Ä‡
â”‚   â”œâ”€â”€ Jakie tagi dodaÄ‡
â”‚   â””â”€â”€ Z czym linkowaÄ‡
â”‚
â”œâ”€â”€ Flow (wymaga dziaÅ‚ania)
â”‚   â”œâ”€â”€ Do czyjego Å¹rÃ³dÅ‚a
â”‚   â”œâ”€â”€ Jaki priorytet
â”‚   â”œâ”€â”€ Sugerowany stream
â”‚   â””â”€â”€ Auto-zadania
â”‚
â”œâ”€â”€ Ignoruj (spam, Å›mieci)
â”‚   â”œâ”€â”€ Oznacz jako spam
â”‚   â””â”€â”€ Dodaj do czarnej listy
â”‚
â””â”€â”€ Powiadomienia
    â”œâ”€â”€ Kogo powiadomiÄ‡
    â””â”€â”€ Kiedy (VIP, pilne, itp.)
```

### 3. ReguÅ‚y ekstrakcji (co wyciÄ…gnÄ…Ä‡?)

```
EKSTRAKCJA
â”œâ”€â”€ Kontakty (imiÄ™, nazwisko, email, tel, stanowisko)
â”œâ”€â”€ Firmy (nazwa, domena, branÅ¼a)
â”œâ”€â”€ Zadania (co zrobiÄ‡, dla kogo)
â”œâ”€â”€ Terminy (deadline, data spotkania)
â”œâ”€â”€ Kwoty (budÅ¼et, cena, wartoÅ›Ä‡)
â”œâ”€â”€ Produkty/usÅ‚ugi (co oferowane)
â””â”€â”€ Sentyment (pozytywny/neutralny/negatywny)
```

---

## Model danych

```prisma
// ============================================
// REGUÅY
// ============================================

model ai_rules {
  id              String   @id @default(uuid())
  organizationId  String
  
  // Podstawowe
  name            String
  description     String?
  category        String   // CLASSIFICATION | ROUTING | EXTRACTION | INDEXING
  dataType        String   // EMAIL | DOCUMENT | OFFER | ALL
  
  // Status
  status          String   @default("ACTIVE") // ACTIVE | DISABLED | TEST
  priority        Int      @default(100)      // WyÅ¼szy = wczeÅ›niej
  
  // Konfiguracja
  conditions      Json     // Warunki kiedy reguÅ‚a dziaÅ‚a
  actions         Json     // Co zrobiÄ‡
  aiPrompt        String?  // Instrukcja dla AI (jeÅ›li uÅ¼ywa AI)
  
  // Statystyki
  executionCount  Int      @default(0)
  lastExecutedAt  DateTime?
  
  // Meta
  isSystem        Boolean  @default(false)  // Systemowe = nie moÅ¼na usunÄ…Ä‡
  createdBy       String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  // Relacje
  organization    organizations @relation(fields: [organizationId], references: [id])
  executions      ai_rule_executions[]
  
  @@index([organizationId, status, priority])
  @@index([organizationId, category])
  @@index([organizationId, dataType])
}

// Historia wykonaÅ„ reguÅ‚
model ai_rule_executions {
  id              String   @id @default(uuid())
  ruleId          String
  
  // Co przetwarzano
  entityType      String   // EMAIL | DOCUMENT | ...
  entityId        String
  
  // Wynik
  matched         Boolean
  conditionResults Json?   // KtÃ³re warunki speÅ‚nione
  actionsExecuted Json?    // KtÃ³re akcje wykonane
  aiResponse      Json?    // OdpowiedÅº AI (jeÅ›li uÅ¼ywana)
  
  // Timing
  executionTimeMs Int?
  executedAt      DateTime @default(now())
  
  rule            ai_rules @relation(fields: [ruleId], references: [id], onDelete: Cascade)
  
  @@index([ruleId, executedAt])
  @@index([entityType, entityId])
}

// ============================================
// LISTY (BIAÅA/CZARNA)
// ============================================

model email_domain_rules {
  id              String   @id @default(uuid())
  organizationId  String
  
  // Co
  pattern         String   // "mailchimp.com" lub "*.newsletter.*" lub "noreply@*"
  patternType     String   // DOMAIN | EMAIL | WILDCARD
  
  // Typ
  listType        String   // BLACKLIST | WHITELIST | VIP
  classification  String?  // SPAM | NEWSLETTER | AUTO_REPLY (dla blacklist)
  
  // Å¹rÃ³dÅ‚o
  source          String   // MANUAL | AI_SUGGESTED | SYSTEM
  reason          String?  // "Newsletter marketing"
  confidence      Float?   // Dla AI_SUGGESTED
  
  // Statystyki
  matchCount      Int      @default(0)
  lastMatchAt     DateTime?
  
  // Status
  status          String   @default("ACTIVE") // ACTIVE | DISABLED | PENDING (czeka na akceptacjÄ™)
  
  // Meta
  createdBy       String?
  createdAt       DateTime @default(now())
  
  @@unique([organizationId, pattern, listType])
  @@index([organizationId, listType, status])
}

// ============================================
// WZORCE
// ============================================

model email_patterns {
  id              String   @id @default(uuid())
  organizationId  String?  // NULL = globalne (systemowe)
  
  // Wzorzec
  patternType     String   // HEADER | SUBJECT | BODY | SENDER
  pattern         String   // regex lub tekst
  isRegex         Boolean  @default(false)
  
  // Klasyfikacja
  classification  String   // NEWSLETTER | SPAM | AUTO_REPLY | TRANSACTIONAL
  confidence      Float    @default(0.9)
  
  // Statystyki
  matchCount      Int      @default(0)
  
  // Meta
  isSystem        Boolean  @default(false)
  createdAt       DateTime @default(now())
  
  @@index([patternType, classification])
}

// ============================================
// PRZETWARZANIE
// ============================================

model data_processing {
  id              String   @id @default(uuid())
  organizationId  String
  
  // Co przetwarzamy
  entityType      String   // EMAIL | DOCUMENT | OFFER
  entityId        String
  
  // Etap 1: CRM Check
  crmMatch        Json?    // { type: 'CONTACT', id: '...', confidence: 1.0 }
  
  // Etap 2: Listy/Wzorce
  listMatch       Json?    // { listType: 'BLACKLIST', pattern: '...', ruleId: '...' }
  patternMatch    Json?    // { patternType: 'HEADER', pattern: '...', classification: '...' }
  
  // Etap 3: AI
  aiClassification String? // BUSINESS | NEWSLETTER | SPAM | TRANSACTIONAL
  aiConfidence    Float?
  aiExtraction    Json?    // { contacts: [...], tasks: [...], amounts: [...] }
  
  // Finalna klasyfikacja
  finalClass      String?
  finalConfidence Float?
  
  // Akcje wykonane
  addedToRag      Boolean  @default(false)
  addedToFlow     Boolean  @default(false)
  flowItemId      String?  // ID w inbox_items
  linkedEntities  Json?    // { contacts: [...], companies: [...], streams: [...] }
  
  // Status
  status          String   @default("PENDING") // PENDING | PROCESSING | COMPLETED | FAILED
  error           String?
  
  // Timing
  startedAt       DateTime?
  completedAt     DateTime?
  
  createdAt       DateTime @default(now())
  
  @@unique([entityType, entityId])
  @@index([organizationId, status])
  @@index([organizationId, finalClass])
}

// ============================================
// SUGESTIE AI (do akceptacji przez usera)
// ============================================

model ai_suggestions {
  id              String   @id @default(uuid())
  organizationId  String
  
  // Typ sugestii
  suggestionType  String   // BLACKLIST_DOMAIN | NEW_CONTACT | NEW_COMPANY | RULE_IMPROVEMENT
  
  // SzczegÃ³Å‚y
  title           String
  description     String?
  data            Json     // SzczegÃ³Å‚y zaleÅ¼ne od typu
  
  // Podstawa
  basedOnCount    Int      // Na ilu przykÅ‚adach oparte
  confidence      Float
  
  // Status
  status          String   @default("PENDING") // PENDING | ACCEPTED | REJECTED | EXPIRED
  
  // Decyzja usera
  decidedBy       String?
  decidedAt       DateTime?
  decisionNote    String?
  
  createdAt       DateTime @default(now())
  expiresAt       DateTime?
  
  @@index([organizationId, status, suggestionType])
}
```

---

## Struktura JSON: conditions

```typescript
interface RuleConditions {
  // Operator gÅ‚Ã³wny
  operator: 'AND' | 'OR';
  
  // Lista warunkÃ³w
  conditions: Condition[];
  
  // WyjÄ…tki (nawet jeÅ›li warunki speÅ‚nione)
  exceptions?: Exception[];
}

interface Condition {
  field: string;        // 'sender.domain' | 'subject' | 'body' | 'headers.x-mailer'
  operator: 'equals' | 'contains' | 'startsWith' | 'endsWith' | 'matches' | 'in' | 'notIn';
  value: string | string[];
  caseSensitive?: boolean;
}

interface Exception {
  type: 'CRM_CONTACT' | 'CRM_COMPANY' | 'WHITELIST' | 'CUSTOM';
  // Dla CUSTOM:
  condition?: Condition;
}

// PrzykÅ‚ad:
{
  "operator": "AND",
  "conditions": [
    { "field": "status", "operator": "equals", "value": "NEW" },
    { "field": "sender.domain", "operator": "notIn", "value": ["gmail.com", "outlook.com"] }
  ],
  "exceptions": [
    { "type": "CRM_CONTACT" },
    { "type": "CRM_COMPANY" }
  ]
}
```

---

## Struktura JSON: actions

```typescript
interface RuleActions {
  // Klasyfikacja (nadpisuje AI jeÅ›li ustawione)
  forceClassification?: 'BUSINESS' | 'NEWSLETTER' | 'SPAM' | 'TRANSACTIONAL';
  
  // RAG
  rag?: {
    enabled: boolean;
    extractFields?: string[];  // ['contacts', 'tasks', 'amounts', 'dates']
    tags?: string[];
    linkTo?: ('contact' | 'company' | 'stream')[];
  };
  
  // Flow
  flow?: {
    enabled: boolean;
    targetType: 'OWNER' | 'SPECIFIC_USER' | 'POOL';
    targetUserId?: string;     // Dla SPECIFIC_USER
    priority?: 'HIGH' | 'NORMAL' | 'LOW';
    suggestedStream?: string;  // Stream ID lub wzorzec
    autoCreateTasks?: boolean;
  };
  
  // Lista
  list?: {
    action: 'ADD_TO_BLACKLIST' | 'SUGGEST_BLACKLIST' | 'ADD_TO_WHITELIST';
    target: 'DOMAIN' | 'EMAIL';
    minConfidence?: number;    // Tylko jeÅ›li AI confidence >= X
  };
  
  // Powiadomienia
  notify?: {
    enabled: boolean;
    recipients: ('OWNER' | 'ADMIN' | string)[];  // string = userId
    conditions?: ('VIP' | 'HIGH_PRIORITY' | 'NEW_CONTACT')[];
  };
}

// PrzykÅ‚ad:
{
  "rag": {
    "enabled": true,
    "extractFields": ["contacts", "tasks", "amounts"],
    "linkTo": ["contact", "company"]
  },
  "flow": {
    "enabled": true,
    "targetType": "OWNER",
    "priority": "NORMAL",
    "autoCreateTasks": true
  },
  "notify": {
    "enabled": true,
    "recipients": ["OWNER"],
    "conditions": ["VIP"]
  }
}
```

---

## UI: AI Assistant â†’ Automatyzacja

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI Asystent STREAMS                                         â”‚
â”‚                                                                 â”‚
â”‚  [Chat AI]  [Sugestie]  [Automatyzacja]  [Prompty]  [Ustaw.]   â”‚
â”‚                         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âš¡ AKTYWNE REGUÅY                       [ZarzÄ…dzaj wszystkie â†’]â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“§ Email Processing                              [ON]   â”‚   â”‚
â”‚  â”‚    Klasyfikuj maile: CRM â†’ Business, reszta â†’ AI        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    ğŸ“Š DziÅ›: 47 przetw. â”‚ 32 Business â”‚ 12 Newsletter    â”‚   â”‚
â”‚  â”‚                                                  [âœï¸]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“„ Oferty â†’ RAG                                  [ON]   â”‚   â”‚
â”‚  â”‚    Indeksuj wysÅ‚ane oferty (bez Flow)                   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    ğŸ“Š Zindeksowane: 156 ofert                           â”‚   â”‚
â”‚  â”‚                                                  [âœï¸]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¯ Zapytania ofertowe                            [ON]   â”‚   â”‚
â”‚  â”‚    Nowe zapytania â†’ Å¹rÃ³dÅ‚o handlowca (priorytet!)       â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    ğŸ“Š Przekierowane: 23 â”‚ Åšredni czas reakcji: 2.3h     â”‚   â”‚
â”‚  â”‚                                                  [âœï¸]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ—‘ï¸ Czarna lista                                  [ON]   â”‚   â”‚
â”‚  â”‚    Blokuj spam i newslettery (247 domen)                â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    ğŸ“Š Zablokowane dziÅ›: 89 maili                        â”‚   â”‚
â”‚  â”‚                                                  [âœï¸]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  + Dodaj reguÅ‚Ä™...                                             â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¡ SUGESTIE AI (3)                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“§ DodaÄ‡ domenÄ™ do czarnej listy?                       â”‚   â”‚
â”‚  â”‚    promo.marketingowy.pl - 12 maili typu newsletter     â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    [âœ… Dodaj]  [âŒ Ignoruj]  [ğŸ‘ï¸ PokaÅ¼ maile]           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ‘¤ Nowy kontakt do CRM?                                 â”‚   â”‚
â”‚  â”‚    Anna WiÅ›niewska (anna@nowafirma.pl)                  â”‚   â”‚
â”‚  â”‚    5 maili biznesowych, firma nieznana                  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚    [âœ… Dodaj kontakt]  [âŒ Ignoruj]  [ğŸ‘ï¸ SzczegÃ³Å‚y]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UI: Strona ReguÅ‚y AI (peÅ‚ny edytor)

### Lista reguÅ‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ REGUÅY AI                                    [+ Nowa reguÅ‚a] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ” [Szukaj...                    ]  [Kategoria â–¼] [Status â–¼]  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  ğŸ“§ PRZETWARZANIE EMAIL                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ON â”‚ Email Processing       â”‚ 47/dziÅ›â”‚ System  â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ON â”‚ CRM Protection         â”‚ 32/dziÅ›â”‚ System  â”‚ [â•] ğŸ”’  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ON â”‚ Czarna lista domen     â”‚ 89/dziÅ›â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ON â”‚ Wzorce newsletter      â”‚ 23/dziÅ›â”‚ System  â”‚ [â•] [...â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  ğŸ“š INDEKSOWANIE RAG                                           â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ON â”‚ Oferty â†’ RAG           â”‚156 tot â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ON â”‚ Dokumenty â†’ RAG        â”‚ 89 tot â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚OFF â”‚ Newslettery â†’ RAG      â”‚ -      â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  ğŸ¯ ROUTING FLOW                                               â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ON â”‚ Zapytania ofertowe     â”‚ 23/mc  â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ON â”‚ Faktury przychodzÄ…ce   â”‚ 12/mc  â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚TESTâ”‚ Reklamacje             â”‚ 2 test â”‚ User    â”‚ [â•] [...â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Edytor reguÅ‚y - ZakÅ‚adki

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸ Email Processing                              [Zapisz] [X]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [OgÃ³lne] [Warunki] [Akcje] [AI Prompt] [Testy] [Historia]     â”‚
â”‚  â•â•â•â•â•â•â•â•                                                       â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  PODSTAWOWE                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  Nazwa:                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Email Processing                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  Opis:                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ GÅ‚Ã³wna reguÅ‚a klasyfikacji emaili. Sprawdza CRM,        â”‚   â”‚
â”‚  â”‚ listy, wzorce i kieruje do RAG lub Flow.                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  Kategoria:        [Przetwarzanie email    â–¼]                  â”‚
â”‚  Typ danych:       [Email                  â–¼]                  â”‚
â”‚  Priorytet:        [100                    ] (wyÅ¼szy=wczeÅ›niej)â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  STATUS                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â— Aktywna    â—‹ WyÅ‚Ä…czona    â—‹ Tryb testowy                   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  STATYSTYKI                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  DziÅ›        â”‚  TydzieÅ„     â”‚  MiesiÄ…c     â”‚  ÅÄ…cznie    â”‚  â”‚
â”‚  â”‚  47          â”‚  312         â”‚  1,247       â”‚  8,934      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  Ostatnie wykonanie: 5 minut temu                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ZakÅ‚adka: Warunki

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [OgÃ³lne] [Warunki] [Akcje] [AI Prompt] [Testy] [Historia]     â”‚
â”‚          â•â•â•â•â•â•â•â•                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  KIEDY REGUÅA DZIAÅA                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  Typ danych: [Email â–¼]      Status: [Nowy â–¼]                   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  WARUNKI                                              [+ Dodaj] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  Operator: (â— WSZYSTKIE â—‹ KTÃ“RYKOLWIEK)                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [status       â–¼] [rÃ³wna siÄ™  â–¼] [NEW         â–¼]   [ğŸ—‘ï¸] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [sender.domainâ–¼] [nie jest wâ–¼] [gmail.com,   â–¼]   [ğŸ—‘ï¸] â”‚   â”‚
â”‚  â”‚                                 outlook.com             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  + Dodaj warunek                                               â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  WYJÄ„TKI (reguÅ‚a NIE dziaÅ‚a nawet jeÅ›li warunki speÅ‚nione)    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â˜‘ Nadawca jest kontaktem w CRM                                â”‚
â”‚  â˜‘ Domena nadawcy naleÅ¼y do firmy w CRM                        â”‚
â”‚  â˜ Nadawca na biaÅ‚ej liÅ›cie                                    â”‚
â”‚  â˜ WÅ‚asny wyjÄ…tek: [                                    ]      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ZakÅ‚adka: Akcje

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [OgÃ³lne] [Warunki] [Akcje] [AI Prompt] [Testy] [Historia]     â”‚
â”‚                     â•â•â•â•â•â•                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  AKCJE DLA: BUSINESS                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â˜‘ Indeksuj w RAG                                              â”‚
â”‚     WyciÄ…gaj: â˜‘ kontakty â˜‘ zadania â˜‘ kwoty â˜‘ terminy          â”‚
â”‚     Linkuj z: â˜‘ kontakt  â˜‘ firma   â˜ stream                   â”‚
â”‚                                                                 â”‚
â”‚  â˜‘ Dodaj do Flow (Å¹rÃ³dÅ‚o)                                      â”‚
â”‚     Kieruj do: (â— Opiekun klienta â—‹ Konkretny user â—‹ Pula)    â”‚
â”‚     Priorytet: [Normalny â–¼]                                    â”‚
â”‚     â˜‘ Auto-twÃ³rz zadania z treÅ›ci                              â”‚
â”‚                                                                 â”‚
â”‚  â˜ Powiadom                                                    â”‚
â”‚     Kogo: â˜ Opiekun  â˜ Admin  â˜ [wybierz usera]               â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  AKCJE DLA: NEWSLETTER                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â˜ Indeksuj w RAG (opcjonalnie zachowaj)                       â”‚
â”‚  â˜ Dodaj do Flow                                               â”‚
â”‚  â˜‘ Zasugeruj dodanie domeny do czarnej listy                   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  AKCJE DLA: SPAM                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â˜ Indeksuj w RAG                                              â”‚
â”‚  â˜ Dodaj do Flow                                               â”‚
â”‚  â˜‘ Oznacz jako spam                                            â”‚
â”‚  â˜‘ Auto-dodaj domenÄ™ do czarnej listy (jeÅ›li confidence > 90%) â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ZakÅ‚adka: AI Prompt

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [OgÃ³lne] [Warunki] [Akcje] [AI Prompt] [Testy] [Historia]     â”‚
â”‚                            â•â•â•â•â•â•â•â•â•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  INSTRUKCJA DLA AI                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Przeanalizuj email i okreÅ›l:                            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ 1. KLASYFIKACJA (wybierz jednÄ…):                       â”‚   â”‚
â”‚  â”‚    - BUSINESS: od klienta, partnera, dostawcy,         â”‚   â”‚
â”‚  â”‚      potencjalnego klienta. Wymaga reakcji lub uwagi.  â”‚   â”‚
â”‚  â”‚    - NEWSLETTER: marketing, masowa wysyÅ‚ka, subskrypcjaâ”‚   â”‚
â”‚  â”‚    - SPAM: niechciane, podejrzane, oszustwa            â”‚   â”‚
â”‚  â”‚    - TRANSACTIONAL: automatyczne potwierdzenia,        â”‚   â”‚
â”‚  â”‚      powiadomienia systemowe, faktury auto             â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ 2. JEÅšLI BUSINESS, wyciÄ…gnij:                          â”‚   â”‚
â”‚  â”‚    - contact: { name, email, phone?, position? }       â”‚   â”‚
â”‚  â”‚    - company: { name, domain? }                        â”‚   â”‚
â”‚  â”‚    - tasks: [ { title, deadline? } ]                   â”‚   â”‚
â”‚  â”‚    - amounts: [ { value, currency, context } ]         â”‚   â”‚
â”‚  â”‚    - dates: [ { date, context } ]                      â”‚   â”‚
â”‚  â”‚    - sentiment: positive | neutral | negative          â”‚   â”‚
â”‚  â”‚    - priority: high | normal | low                     â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ 3. CONFIDENCE: 0-100 (pewnoÅ›Ä‡ klasyfikacji)            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Odpowiedz TYLKO w formacie JSON.                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ZMIENNE DOSTÄ˜PNE                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  {{email.from}}        - adres nadawcy                         â”‚
â”‚  {{email.subject}}     - temat                                 â”‚
â”‚  {{email.body}}        - treÅ›Ä‡ (text)                          â”‚
â”‚  {{email.bodyHtml}}    - treÅ›Ä‡ (HTML)                          â”‚
â”‚  {{email.headers}}     - nagÅ‚Ã³wki                              â”‚
â”‚  {{sender.domain}}     - domena nadawcy                        â”‚
â”‚  {{sender.name}}       - nazwa nadawcy                         â”‚
â”‚                                                                 â”‚
â”‚  [PrzywrÃ³Ä‡ domyÅ›lny]                      [Testuj prompt â†’]    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ZakÅ‚adka: Testy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [OgÃ³lne] [Warunki] [Akcje] [AI Prompt] [Testy] [Historia]     â”‚
â”‚                                         â•â•â•â•â•                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  TESTUJ REGUÅÄ˜                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  [Wybierz email z systemu â–¼]  lub  [Wklej wÅ‚asny przykÅ‚ad]     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Od: jan.kowalski@abcokna.pl                             â”‚   â”‚
â”‚  â”‚ Temat: RE: Oferta Budma 2026                            â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚ DzieÅ„ dobry,                                            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Akceptujemy ofertÄ™ na stoisko 50mÂ² w cenie 45 000 EUR. â”‚   â”‚
â”‚  â”‚ ProszÄ™ o fakturÄ™ proforma do 20.01.2025.               â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Pozdrawiam,                                             â”‚   â”‚
â”‚  â”‚ Jan Kowalski                                            â”‚   â”‚
â”‚  â”‚ Dyrektor handlowy, ABC Okna Sp. z o.o.                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  [â–¶ Uruchom test]                                              â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  WYNIKI TESTU                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ETAP 1: CRM CHECK                                       â”‚   â”‚
â”‚  â”‚ âœ… Znaleziono kontakt: Jan Kowalski (ABC Okna)          â”‚   â”‚
â”‚  â”‚    â†’ Klasyfikacja: BUSINESS (confidence: 100%)          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ ETAP 2: LISTY (pominiÄ™ty - CRM match)                   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ ETAP 3: AI EXTRACTION                                   â”‚   â”‚
â”‚  â”‚ âœ… WyciÄ…gniÄ™te dane:                                    â”‚   â”‚
â”‚  â”‚    â€¢ Kontakt: Jan Kowalski (jan.kowalski@abcokna.pl)   â”‚   â”‚
â”‚  â”‚    â€¢ Firma: ABC Okna Sp. z o.o.                        â”‚   â”‚
â”‚  â”‚    â€¢ Zadanie: "WystawiÄ‡ fakturÄ™ proforma"              â”‚   â”‚
â”‚  â”‚    â€¢ Termin: 20.01.2025                                â”‚   â”‚
â”‚  â”‚    â€¢ Kwota: 45 000 EUR                                 â”‚   â”‚
â”‚  â”‚    â€¢ Sentyment: pozytywny                              â”‚   â”‚
â”‚  â”‚    â€¢ Priorytet: normalny                               â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ AKCJE DO WYKONANIA:                                     â”‚   â”‚
â”‚  â”‚ âœ“ Dodaj do RAG (linkuj z: ABC Okna, Jan Kowalski)      â”‚   â”‚
â”‚  â”‚ âœ“ Dodaj do Å¹rÃ³dÅ‚a (user: opiekun ABC Okna)             â”‚   â”‚
â”‚  â”‚ âœ“ UtwÃ³rz zadanie: "Faktura proforma" (deadline: 20.01) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UI: ZarzÄ…dzanie listami

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ LISTY DOMEN                                   [+ Dodaj]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [Czarna lista (247)]  [BiaÅ‚a lista (12)]  [VIP (5)]           â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ” [Szukaj domenÄ™...              ]  [Å¹rÃ³dÅ‚o â–¼] [Sortuj â–¼]    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Domena              â”‚ Klasyfikacja â”‚ Å¹rÃ³dÅ‚o â”‚ Trafienia  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ mailchimp.com       â”‚ Newsletter   â”‚ AI     â”‚ 523     ğŸ—‘ï¸â”‚  â”‚
â”‚  â”‚ sendgrid.net        â”‚ Newsletter   â”‚ AI     â”‚ 412     ğŸ—‘ï¸â”‚  â”‚
â”‚  â”‚ *.newsletter.*      â”‚ Newsletter   â”‚ System â”‚ 234     ğŸ”’â”‚  â”‚
â”‚  â”‚ noreply@*           â”‚ Auto-reply   â”‚ System â”‚ 891     ğŸ”’â”‚  â”‚
â”‚  â”‚ spam-company.com    â”‚ Spam         â”‚ RÄ™cznieâ”‚   5     ğŸ—‘ï¸â”‚  â”‚
â”‚  â”‚ promo.xyz.pl        â”‚ Newsletter   â”‚ AI     â”‚  12     ğŸ—‘ï¸â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¡ SUGESTIE AI (3 domeny do dodania)                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ news.marketingfirma.pl    â”‚ 8 maili â”‚ 95% pewnoÅ›ci      â”‚  â”‚
â”‚  â”‚                           â”‚         â”‚                    â”‚  â”‚
â”‚  â”‚ [âœ… Dodaj] [âŒ Ignoruj] [ğŸ‘ï¸ PokaÅ¼ maile]                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Endpoints

```typescript
// ============================================
// REGUÅY
// ============================================

// Lista reguÅ‚
GET /api/v1/ai-rules
  ?category=CLASSIFICATION|ROUTING|EXTRACTION|INDEXING
  ?status=ACTIVE|DISABLED|TEST
  ?dataType=EMAIL|DOCUMENT|OFFER

// SzczegÃ³Å‚y reguÅ‚y
GET /api/v1/ai-rules/:id

// UtwÃ³rz reguÅ‚Ä™
POST /api/v1/ai-rules
  body: { name, description, category, dataType, conditions, actions, aiPrompt }

// Aktualizuj reguÅ‚Ä™
PUT /api/v1/ai-rules/:id

// ZmieÅ„ status (ON/OFF/TEST)
PATCH /api/v1/ai-rules/:id/status
  body: { status: 'ACTIVE' | 'DISABLED' | 'TEST' }

// UsuÅ„ reguÅ‚Ä™
DELETE /api/v1/ai-rules/:id

// Testuj reguÅ‚Ä™
POST /api/v1/ai-rules/:id/test
  body: { entityType, entityData }

// Statystyki reguÅ‚y
GET /api/v1/ai-rules/:id/stats
  ?period=day|week|month

// Historia wykonaÅ„
GET /api/v1/ai-rules/:id/executions
  ?limit=50&cursor=...

// ============================================
// LISTY
// ============================================

// Lista domen
GET /api/v1/email-domain-rules
  ?listType=BLACKLIST|WHITELIST|VIP
  ?status=ACTIVE|DISABLED|PENDING

// Dodaj domenÄ™
POST /api/v1/email-domain-rules
  body: { pattern, listType, classification?, reason? }

// UsuÅ„ domenÄ™
DELETE /api/v1/email-domain-rules/:id

// Bulk akcja
POST /api/v1/email-domain-rules/bulk
  body: { action: 'ADD'|'REMOVE', patterns: [...], listType }

// ============================================
// SUGESTIE
// ============================================

// Lista sugestii
GET /api/v1/ai-suggestions
  ?status=PENDING|ACCEPTED|REJECTED
  ?type=BLACKLIST_DOMAIN|NEW_CONTACT|...

// Akceptuj sugestiÄ™
POST /api/v1/ai-suggestions/:id/accept

// OdrzuÄ‡ sugestiÄ™
POST /api/v1/ai-suggestions/:id/reject
  body: { note? }

// ============================================
// PRZETWARZANIE
// ============================================

// Status przetwarzania
GET /api/v1/data-processing/:entityType/:entityId

// RÄ™czne przetworzenie
POST /api/v1/data-processing/process
  body: { entityType, entityId }

// Batch processing (dla migracji)
POST /api/v1/data-processing/batch
  body: { entityType, filters?, limit? }

// Statystyki przetwarzania
GET /api/v1/data-processing/stats
  ?period=day|week|month
```

---

## Komponenty React

```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ ai-assistant/
â”‚   â”‚   â””â”€â”€ tabs/
â”‚   â”‚       â””â”€â”€ AutomationTab.tsx      # ZakÅ‚adka w AI Assistant
â”‚   â”‚
â”‚   â””â”€â”€ ai-rules/
â”‚       â”œâ”€â”€ index.tsx                  # Lista reguÅ‚
â”‚       â”œâ”€â”€ [id]/
â”‚       â”‚   â””â”€â”€ index.tsx              # Edytor reguÅ‚y
â”‚       â””â”€â”€ domain-lists/
â”‚           â””â”€â”€ index.tsx              # ZarzÄ…dzanie listami
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ai-rules/
â”‚       â”œâ”€â”€ RuleCard.tsx               # Karta reguÅ‚y (lista)
â”‚       â”œâ”€â”€ RuleEditor/
â”‚       â”‚   â”œâ”€â”€ index.tsx              # Kontener edytora
â”‚       â”‚   â”œâ”€â”€ GeneralTab.tsx
â”‚       â”‚   â”œâ”€â”€ ConditionsTab.tsx
â”‚       â”‚   â”œâ”€â”€ ActionsTab.tsx
â”‚       â”‚   â”œâ”€â”€ PromptTab.tsx
â”‚       â”‚   â”œâ”€â”€ TestsTab.tsx
â”‚       â”‚   â””â”€â”€ HistoryTab.tsx
â”‚       â”‚
â”‚       â”œâ”€â”€ ConditionBuilder.tsx       # Builder warunkÃ³w
â”‚       â”œâ”€â”€ ActionConfigurator.tsx     # Konfigurator akcji
â”‚       â”œâ”€â”€ PromptEditor.tsx           # Edytor promptÃ³w
â”‚       â”œâ”€â”€ RuleTestRunner.tsx         # Panel testowania
â”‚       â”‚
â”‚       â”œâ”€â”€ DomainListManager.tsx      # ZarzÄ…dzanie listami
â”‚       â”œâ”€â”€ SuggestionCard.tsx         # Karta sugestii AI
â”‚       â”‚
â”‚       â””â”€â”€ QuickRuleEditor.tsx        # Szybka edycja (modal)
â”‚
â””â”€â”€ hooks/
    â”œâ”€â”€ useAiRules.ts
    â”œâ”€â”€ useDomainRules.ts
    â”œâ”€â”€ useAiSuggestions.ts
    â””â”€â”€ useRuleTest.ts
```

---

## ReguÅ‚y systemowe (predefiniowane)

```typescript
const SYSTEM_RULES = [
  {
    name: 'CRM Protection',
    description: 'Zawsze przepuszczaj maile od kontaktÃ³w i firm z CRM',
    category: 'CLASSIFICATION',
    dataType: 'EMAIL',
    isSystem: true,
    priority: 1000,  // NajwyÅ¼szy priorytet
    conditions: { operator: 'AND', conditions: [] },  // Zawsze dziaÅ‚a
    actions: {
      // Logika hardcoded - sprawdza CRM przed innymi reguÅ‚ami
    }
  },
  {
    name: 'Newsletter Patterns',
    description: 'Wykrywaj newslettery po wzorcach (unsubscribe, view in browser)',
    category: 'CLASSIFICATION',
    dataType: 'EMAIL',
    isSystem: true,
    priority: 500,
    conditions: {
      operator: 'OR',
      conditions: [
        { field: 'body', operator: 'contains', value: 'unsubscribe' },
        { field: 'body', operator: 'contains', value: 'view in browser' },
        { field: 'body', operator: 'contains', value: 'opt-out' },
        { field: 'headers.list-unsubscribe', operator: 'exists', value: true }
      ]
    },
    actions: {
      forceClassification: 'NEWSLETTER',
      list: { action: 'SUGGEST_BLACKLIST', target: 'DOMAIN' }
    }
  },
  {
    name: 'Auto-Reply Detection',
    description: 'Wykrywaj automatyczne odpowiedzi',
    category: 'CLASSIFICATION',
    dataType: 'EMAIL',
    isSystem: true,
    priority: 500,
    conditions: {
      operator: 'OR',
      conditions: [
        { field: 'subject', operator: 'contains', value: 'out of office' },
        { field: 'subject', operator: 'contains', value: 'automatic reply' },
        { field: 'subject', operator: 'contains', value: 'auto-reply' },
        { field: 'headers.auto-submitted', operator: 'equals', value: 'auto-replied' }
      ]
    },
    actions: {
      forceClassification: 'TRANSACTIONAL'
    }
  }
];
```

---

## Testy akceptacyjne

### Klasyfikacja
1. [ ] Mail od kontaktu z CRM â†’ zawsze BUSINESS (nawet jeÅ›li wyglÄ…da jak newsletter)
2. [ ] Mail z domeny firmy w CRM â†’ BUSINESS
3. [ ] Domena na czarnej liÅ›cie â†’ SPAM
4. [ ] Mail z "unsubscribe" w treÅ›ci â†’ NEWSLETTER
5. [ ] Nieznany mail â†’ AI klasyfikuje poprawnie

### Akcje
6. [ ] BUSINESS â†’ trafia do RAG + Flow
7. [ ] NEWSLETTER â†’ tylko RAG (opcja) + sugestia czarnej listy
8. [ ] SPAM â†’ ignorowany + domena do czarnej listy (jeÅ›li confidence > 90%)
9. [ ] Ekstrakcja zadaÅ„ dziaÅ‚a poprawnie
10. [ ] Linkowanie z kontaktem/firmÄ… dziaÅ‚a

### UI
11. [ ] Lista reguÅ‚ wyÅ›wietla siÄ™ poprawnie
12. [ ] Edytor reguÅ‚y zapisuje zmiany
13. [ ] Toggle ON/OFF dziaÅ‚a
14. [ ] Testowanie reguÅ‚y pokazuje wyniki
15. [ ] Sugestie AI wyÅ›wietlajÄ… siÄ™
16. [ ] Akceptacja sugestii dodaje do listy

### Listy
17. [ ] Dodawanie domeny do czarnej listy
18. [ ] Usuwanie domeny
19. [ ] Wildcard patterns dziaÅ‚ajÄ… (*.newsletter.*)
20. [ ] Sugestie AI pojawiajÄ… siÄ™ po wykryciu wzorca

---

## Uwagi implementacyjne

1. **Priorytet reguÅ‚**: WyÅ¼szy numer = wczeÅ›niej wykonana. CRM Protection = 1000 (zawsze pierwszy)

2. **Batch processing**: AI klasyfikacja grupuje maile (10-20 na raz) dla oszczÄ™dnoÅ›ci

3. **Uczenie siÄ™**: KaÅ¼da korekta usera zapisywana do `ai_rule_executions` z flagÄ… `userCorrected`

4. **Cache**: Wyniki klasyfikacji cache'owane w `data_processing` - nie przetwarzaj dwa razy

5. **Fallback**: JeÅ›li AI niedostÄ™pne â†’ zostaw jako UNKNOWN, nie blokuj

6. **Audit trail**: KaÅ¼da zmiana reguÅ‚y logowana z `userId` i timestamp

7. **Migracja**: Endpoint batch do przetworzenia historycznych maili (background job)
